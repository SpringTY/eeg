<html lang="en" xmlns:th="http://www.thymeleaf.org"
      xmlns:v-on="http://www.w3.org/1999/xhtml"
      xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity4">
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, shrink-to-fit=no">
    <title>阅读专注度分析 </title>
    <!--js and css-->
    <link href="../../assets/css/loader.css" rel="stylesheet" type="text/css"/>
    <script src="../../assets/js/loader.js"></script>
    <link href="https://fonts.googleapis.com/css?family=Nunito:400,600,700" rel="stylesheet">
    <link href="../../bootstrap/css/bootstrap.min.css" rel="stylesheet" type="text/css"/>
    <link href="../../assets/css/plugins.css" rel="stylesheet" type="text/css"/>
    <link href="../../plugins/apex/apexcharts.css" rel="stylesheet" type="text/css">
    <link href="../../assets/css/dashboard/dash_1.css" rel="stylesheet" type="text/css"/>
    <script src="../../plugins/apex/apexcharts.min.js"></script>
    <script src="../../assets/js/libs/jquery-3.1.1.min.js"></script>
    <script src="../../bootstrap/js/popper.min.js"></script>
    <script src="../../bootstrap/js/bootstrap.min.js"></script>
    <script src="../../plugins/perfect-scrollbar/perfect-scrollbar.min.js"></script>
    <script src="../../assets/js/app.js"></script>
    <script src="../../assets/js/custom.js"></script>
    <script src="../../assets/js/dashboard/dash_1.js"></script>
    <script src='../../assets/js/libs/axios.min.js'></script>
</head>
<!-- BEGIN PAGE LEVEL STYLES -->
<link rel="stylesheet" type="text/css" href="plugins/table/datatable/datatables.css">
<link rel="stylesheet" type="text/css" href="plugins/table/datatable/dt-global_style.css">
<!-- END PAGE LEVEL STYLES -->
<body>
<!-- BEGIN LOADER -->
<div id="load_screen">
    <div class="loader">
        <div class="loader-content">
            <svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg"
                 xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 792 723"
                 style="enable-background:new 0 0 792 723;" xml:space="preserve"> <g> <g> <path class="st0"
                                                                                                d="M213.9,584.4c-47.4-25.5-84.7-60.8-111.8-106.1C75,433.1,61.4,382,61.4,324.9c0-57,13.6-108.1,40.7-153.3 S166.5,91,213.9,65.5s100.7-38.2,159.9-38.2c49.9,0,95,8.8,135.3,26.3s74.1,42.8,101.5,75.7l-85.5,78.9 c-38.9-44.9-87.2-67.4-144.7-67.4c-35.6,0-67.4,7.8-95.4,23.4s-49.7,37.4-65.4,65.4c-15.6,28-23.4,59.8-23.4,95.4 s7.8,67.4,23.4,95.4s37.4,49.7,65.4,65.4c28,15.6,59.7,23.4,95.4,23.4c57.6,0,105.8-22.7,144.7-68.2l85.5,78.9 c-27.4,33.4-61.4,58.9-102,76.5c-40.6,17.5-85.8,26.3-135.7,26.3C314.3,622.7,261.3,809.9,213.9,584.4z"/> </g>
                <circle class="st1" cx="375.4" cy="322.9" r="100"/> </g>
                <g> <circle class="st2" cx="275.4" cy="910" r="65"></circle>
                    <circle class="st4" cx="475.4" cy="910" r="65"></circle> </g> </svg>
        </div>
    </div>
</div>
<!--  END LOADER -->

<!--  BEGIN NAVBAR  -->
<div class="header-container fixed-top">
    <div th:replace="common/htmlCommon:: header"></div>
</div>
<!--  END NAVBAR  -->

<!--头表栏-->
<!--  BEGIN NAVBAR  -->
<div class="sub-header-container">
    <header class="header navbar navbar-expand-sm">
        <a href="javascript:void(0);" class="sidebarCollapse" data-placement="bottom">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                 stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                 class="feather feather-menu">
                <line x1="3" y1="12" x2="21" y2="12"></line>
                <line x1="3" y1="6" x2="21" y2="6"></line>
                <line x1="3" y1="18" x2="21" y2="18"></line>
            </svg>
        </a>

        <ul class="navbar-nav flex-row">
            <li>
                <div class="page-header">

                    <nav class="breadcrumb-one" aria-label="breadcrumb">
                        <ol class="breadcrumb">
                            <li class="breadcrumb-item"><a href="javascript:void(0);">EEG 文件</a></li>
                            <!--                            <li class="breadcrumb-item active" aria-current="page"><span>Sales</span></li>-->
                        </ol>
                    </nav>

                </div>
            </li>
        </ul>
    </header>
</div>
<!--  END NAVBAR  -->

<!-- 侧边栏-->
<!--  BEGIN MAIN CONTAINER  -->
<div class="main-container" id="container">

    <div class="overlay"></div>
    <div class="search-overlay"></div>
    <div class="sidebar-wrapper sidebar-theme">
        <!--菜单-->
        <nav id="sidebar">
            <div class="shadow-bottom"></div>
            <ul class="list-unstyled menu-categories" id="accordionExample">
                <!--首页内容-->
                <li class="menu">
                    <a href="/admin/index" data-active="true" data-toggle="collapse" aria-expanded="true"
                       class="dropdown-toggle">
                        <div class="">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                                 fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                 stroke-linejoin="round" class="feather feather-home">
                                <path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path>
                                <polyline points="9 22 9 12 15 12 15 22"></polyline>
                            </svg>
                            <span href="/admin/index">班级列表</span>
                        </div>
                    </a>
                </li>
                <!--文件信息-->
                <li class="menu">
                    <a href="/admin/newClass" aria-expanded="false" class="dropdown-toggle">
                        <div class="">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                                 fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                 stroke-linejoin="round" class="feather feather-book">
                                <path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20"></path>
                                <path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"></path>
                            </svg>
                            <span href="/admin/newClass">新建班级</span>
                        </div>
                    </a>
                </li>
                <li class="menu">
                    <a href="/admin/addStudent" aria-expanded="false" class="dropdown-toggle">
                        <div class="">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                                 fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                 stroke-linejoin="round" class="feather feather-book">
                                <path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20"></path>
                                <path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"></path>
                            </svg>
                            <span href="/admin/newClass">添加学生</span>
                        </div>
                    </a>
                </li>
            </ul>
            <!-- <div class="shadow-bottom"></div> -->
        </nav>

    </div>


    <!--  内容区域  -->
    <div id="content" class="main-content">
        <div class="layout-px-spacing">
            <div class="row layout-top-spacing">
                <div class="col-12">
                    <h5>班级： 用户： </h5>
                </div>
                <div class="col-12">
                <div class="table-responsive">
                    <table class="table">
                        <thead>
                        <tr>
                            <th><div class="th-content">计划id</div></th>
                            <th><div class="th-content">计划名</div></th>
                            <th><div class="th-content">开始时间</div></th>
                            <th><div class="th-content th-heading">计划专注时长(h)</div></th>
                            <th><div class="th-content th-heading">已经专注时长(h)</div></th>
                            <th><div class="th-content th-heading">完成度百分比</div></th>
                            <th><div class="th-content th-heading">进度条</div></th>
                            <th><div class="th-content th-heading">是否完成</div></th>
                            <th><div class="no-content"></div></th>
                        </tr>
                        </thead>
                        <div>


                            <tbody id="planList">


                            </tbody>
                        </div>
                    </table>
                </div></div>
            </div>

        </div>
        <div class="footer-wrapper">
            <div class="footer-section f-section-1">
                <p class="">Copyright © 2020 <a target="_blank" href="../../../designreset.html">EEG Attention</a>, All
                    rights <a>Reserved </a>.</p>
            </div>

        </div>
    </div>
    <!--  END CONTENT AREA  -->

</div>
<!-- END MAIN CONTAINER -->


<script th:inline="javascript">
    // alert([[${mass}]])
    // in this init var insert for state
</script>
<!--<script src="../assets/js/echarts.js"></script>-->

<!--<script src="../assets/js/config.js"></script>-->
<div th:replace="common/cssAndJavascript :: jsCode"></div>

<script type="text/javascript" th:inline="javascript">
    let plans = [[${plans}]]
    let html = ''
    let progress
    let plan = null
    let realtime
    let plantime
    for (let i = 0; i < plans.length; i++) {
        plan = plans[i]
        progress = plan['realtime']/plan['plantime']
        progress = Math.ceil(progress*100)
        realtime = plan['realtime'] /60
        realtime = realtime.toFixed(2)

        plantime = plan['plantime'] /60
        plantime = plantime.toFixed(2)
        if(progress > 100) progress = 100
        let last = ''
        if(progress == 100){
            last = '<td><div class="td-content"><span class="badge outline-badge-success">完成</span></div></td>'
        }else{
            last = '<td><div class="td-content"><span class="badge outline-badge-primary">进行中</span></div></td>'
        }
        html = html+'<tr>\n' +
            '                                <td><div class="td-content product-brand">'+plan['planid']+'</div></td>\n' +
            '                                <td><div class="td-content product-brand">'+plan['planname']+'</div></td>\n' +
            '                                <td><div class="td-content">'+plan['plandate'].substring(0,10)+'</div></td>\n' +
            '                                <td><div class="td-content">'+plantime+'</div></td>\n' +
            '                                <td><div class="td-content">'+realtime+'</div></td>\n' +
            '                                <td><div class="td-content">'+progress+'%</div></td>\n' +

            '<td class="sorting_1">\n' +
            '                                                <div class="progress br-30">\n' +
            '                                                    <div class="progress-bar br-30 bg-primary" role="progressbar" style="width: '+(progress)+'%" aria-valuenow="25" aria-valuemin="0" aria-valuemax="100"></div>\n' +
            '                                                </div>\n' +
            '                                            </td>'+ last+'                            </tr>'
    }
    $('#planList').html(html)
</script>
</body>
</html>
